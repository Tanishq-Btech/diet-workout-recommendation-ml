<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Fitness Engine | Assessment</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="page-wrapper">
        <div class="main-card wide">
            <div class="dashboard-header">
                <div>
                    <h2><i class="fa-solid fa-wand-magic-sparkles"></i> Health Assessment</h2>
                    <p>Enter your details to generate your ML-powered fitness plan.</p>
                </div>
                <a href="/logout" class="logout-btn"><i class="fa-solid fa-power-off"></i> Logout</a>
            </div>
            
            <form method="post" class="grid-form">
                <div class="input-box">
                    <label>Age</label>
                    <input type="number" name="age" placeholder="e.g. 25" required>
                </div>
                <div class="input-box">
                    <label>Gender</label>
                    <select name="sex">
                        <option value="1">Male</option>
                        <option value="0">Female</option>
                    </select>
                </div>

                <div class="input-box">
                    <label>Height (meters)</label>
                    <input type="number" step="0.01" name="height" placeholder="e.g. 1.75" required>
                </div>
                <div class="input-box">
                    <label>Weight (kg)</label>
                    <input type="number" step="0.01" name="weight" placeholder="e.g. 70" required>
                </div>

                <div class="input-box">
                    <label>BMI</label>
                    <input type="number" step="0.01" name="bmi" id="bmi_input" placeholder="Calculated BMI" required>
                </div>
                <div class="input-box">
                    <label>Hypertension</label>
                    <select name="bp">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>

                <div class="input-box">
                    <label>Diabetes</label>
                    <select name="diabetes">
                        <option value="0">No</option>
                        <option value="1">Yes</option>
                    </select>
                </div>
                <div class="input-box">
                    <label>Body Level</label>
                    <select name="level">
                        <option value="0">Normal</option>
                        <option value="1">Obese</option>
                        <option value="2">Overweight</option>
                        <option value="3">Underweight</option>
                    </select>
                </div>

                <div class="input-box">
                    <label>Fitness Goal</label>
                    <select name="goal">
                        <option value="0">Weight Gain</option>
                        <option value="1">Weight Loss</option>
                    </select>
                </div>
                <div class="input-box">
                    <label>Fitness Type</label>
                    <select name="type">
                        <option value="1">Muscular Fitness</option>
                        <option value="0">Cardio Fitness</option>
                    </select>
                </div>

                <button type="submit" class="btn-submit" style="grid-column: span 2;">
                    Generate Recommendation <i class="fa-solid fa-arrow-right"></i>
                </button>
            </form>
            
            <div class="text-center mt-2">
                <a href="/dashboard" class="btn-secondary" style="display: inline-block;">
                    <i class="fa-solid fa-list-ul"></i> View Past Recommendations
                </a>
            </div>
        </div>
    </div>

    <script>
        const heightInput = document.querySelector('input[name="height"]');
        const weightInput = document.querySelector('input[name="weight"]');
        const bmiInput = document.getElementById('bmi_input');

        function calculateBMI() {
            const h = parseFloat(heightInput.value);
            const w = parseFloat(weightInput.value);
            if(h > 0 && w > 0) {
                const bmi = (w / (h * h)).toFixed(2);
                bmiInput.value = bmi;
            }
        }
        heightInput.addEventListener('input', calculateBMI);
        weightInput.addEventListener('input', calculateBMI);
    </script>
</body>
</html>